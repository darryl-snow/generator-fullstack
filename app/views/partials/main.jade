div(data-ng-if="!currentUser")
	
	.hero
		.one.half
			h1 Organisr.io
			h2.subtitle a toolkit for keeping things organised

		.one.half
			form(name='form', data-ng-controller="AuthCtrl", ng-submit='register(form)', novalidate)
				.form-group(ng-class='{"has-warning": form.email.$dirty,"has-success": form.email.$valid && form.email.$dirty && !form.email.$error.mongoose,"has-error": form.email.$invalid && form.email.$dirty || form.email.$error.mongoose}')
					input(placeholder='Your Email', type='email', name='email', ng-model='user.email', required, unique-email, autofocus, on-focus, mongoose-error, data-ng-class="{'invalid': (form.email.$error.email && !form.email.$focused) || form.email.$error.mongoose || (form.email.$error.unique && form.email)}", tabindex="1")
					p.error(ng-show='form.email.$error.email && !form.email.$focused')
						| Not a valid email.
					p.error(ng-show='form.email.$error.mongoose')
						| {{ errors.email }}
					p.error(ng-show='form.email.$error.unique && form.email')
						| That email is already registered.
				.form-group(ng-class='{"has-warning": form.password.$dirty,"has-success": form.password.$valid && form.password.$dirty && !form.password.$error.mongoose,"has-error": form.password.$invalid && form.password.$dirty || form.password.$error.mongoose}')
					input(placeholder='Password', type='password', name='password', ng-model='user.password', ng-minlength='5', required, mongoose-error, data-ng-class="{'invalid': (form.password.$error.minlength || form.password.$invalid) && form.password.$dirty && !form.password.$error.required || form.password.$error.mongoose}", tabindex="2")
					p.error(ng-show='(form.password.$error.minlength || form.password.$invalid) && form.password.$dirty && !form.password.$error.required')
						| Password must be at least 5 characters.
					p.error(ng-show='form.password.$error.mongoose')
						| {{ errors.password }}
				button.button(type='submit', ng-disabled='form.$invalid', tabindex="3") Sign up
					i.arrow-right.right.icon

			a.small(href='/login') or log in

.container(data-ng-if="currentUser")

	h3.centre.aligned Time Tracker

	.panel.timetracker(on-escape="cleartime()", data-ng-controller='TimetrackerCtrl')
		.icon.input.one.half
			input.field(type="number", autofocus, min="0", max="24", step="0.25", placeholder="8", data-ng-model="newtimesheet.time", friendly-time, on-enter="logtime()", select-all)
			i.clock.icon
		.icon.input.one.half
			input.field(type="text", placeholder="DD/MM/YYYY", data-ng-model="date", date-range-picker, format="dateformat", ranges="dateranges", change="changedate", on-enter="logtime()")
			i.calendar.icon
		.input.one.whole
			input.field.sfTypeahead(type="text", placeholder="Project", datasets="projects", ng-model="newtimesheet.project")
		.input.one.whole(data-ng-if="currentUser.agency")
			input.field.sfTypeahead(type="text", placeholder="Activity", datasets="activities", ng-model="newtimesheet.activity")
		.input.one.whole
			textarea.field(type="text", placeholder="comments...", data-ng-model="newtimesheet.comment", alphanumeric-input, on-enter="logtime()", expand-on-focus)
		.input.one.whole.centre.aligned
			button.field(data-ng-click="logtime()", data-ng-class="{'disabled': !valid}") log time